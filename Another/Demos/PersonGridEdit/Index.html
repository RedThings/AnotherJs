<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>AnotherJs > Demos > Person Grid Edit</title>
    <link href="../../Content/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="container-fluid">
    <h2>Person Grid Edit</h2>

    <div id="main" an-presenter="PersonGridEdit1">
        <!--<div id="main">-->
        <h3>HtmlWrapper</h3>
        <table class="table table-bordered table-condensed">
            <thead>
                <tr>
                    <th style="width: 40px;">Id</th>
                    <th>Name</th>
                    <th style="width: 150px;">Job title</th>
                    <th style="width: 100px;"></th>
                </tr>
            </thead>
            <tbody>
                <tr an-repeater="row in {Data}.Persons">
                    <td>
                        <span an-model="{row}.Id"></span>

                    </td>
                    <td>
                        <span an-model="{row}.Name" an-show="{row}.ReadOnly"></span>
                        <input class="form-control" type="text" an-model="{row}.Name" an-show="!{row}.ReadOnly" />
                    </td>
                    <td>
                        <span an-show="{row}.ReadOnly">
                            <span an-model="{row}.JobTitle"></span>
                            (ID #<span an-model="{row}.JobTitleId"></span>)
                        </span>
                        <select an-model="{row}.JobTitleId" an-model-change="{Ui}.OnJobTitleChanged({newVal},{row})" an-show="!{row}.ReadOnly">
                            <option an-repeater="jobTitle in {Data}.JobTitles" an-value="{jobTitle}.Id" an-text="{jobTitle}.Name"></option>
                        </select>
                    </td>
                    <td>
                        <button class="btn btn-xs btn-default" an-click="{Model}.Edit({row})" an-show="{row}.ReadOnly"><span class="glyphicon glyphicon-edit"></span></button>
                        <button class="btn btn-xs btn-danger" an-click="{Model}.Reset({row})" an-show="!{row}.ReadOnly"><span class="glyphicon glyphicon-remove"></span></button>
                        <button class="btn btn-xs btn-success" an-click="{Model}.Save({row})" an-show="!{row}.ReadOnly"><span class="glyphicon glyphicon-ok"></span></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- jQuery -->
    <script src="../../Scripts/jquery-2.1.3.js"></script>

    <!-- dom test-->
    <!--<script>

        var main = jQuery("#main");

        var models = main.find("[an-model]");
        var modelsNot = main.find().not("[an-repeater],.not").find("[an-model]");
        console.log(models);
        console.log(modelsNot);
    </script>-->
    <!-- SPLITS -->
    <script src="../../AnotherJs/Splits/01. ObjectObserve.js"></script>
    <script src="../../AnotherJs/Splits/02. Init.js"></script>
    <script src="../../AnotherJs/Splits/03. Helpers.js"></script>
    <script src="../../AnotherJs/Splits/04. Core.js"></script>
    <script src="../../AnotherJs/Splits/05. Application.js"></script>
    <script src="../../AnotherJs/Splits/06. Presenter.js"></script>
    <script src="../../AnotherJs/Splits/07. Wrappers.js"></script>
    <script src="../../AnotherJs/Splits/08. ObservableArray.js"></script>
    <script src="../../AnotherJs/Splits/09. Events.js"></script>
    <script src="../../AnotherJs/Splits/10. ServicesAndDependencies.Js"></script>
    <script src="../../AnotherJs/Splits/11. CoreDependencies.js"></script>
    <script src="../../AnotherJs/Splits/12. Plugins.js"></script>

    <!--APPS-->
    <script src="../Apps/AnotherDemosApp.js"></script>

    <!-- PRESENTERS -->
    <script src="PersonGridEdit.js"></script>

    <!-- INIT -->
    <script>
        Another.Initialize();
    </script>
</body>
</html>
