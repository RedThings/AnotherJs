"use strict";if(window.Another===undefined&&(window.Another={}),window.onerror=function(n,t,i,r,u){throw u;},jQuery===undefined)throw new Error("Another currently uses jQuery v2.x as a dom helper");(function(a){var IsNullOrUndefined;if(a.Helpers={EndsWith:function(n,t){return!a.Helpers.StringIsNullOrEmpty(n)&&n.lastIndexOf(t)===n.length-t.length},StripLast:function(n){if(n===undefined||n===null||n==="")throw new Error("EndsWith: str cannot be null, empty or undefined");return n.substr(0,n.length-1)},StartsWith:function(n,t){return!a.Helpers.StringIsNullOrEmpty(n)&&n.substr(0,t.length)===t},StripFirst:function(n){if(n===undefined||n===null||n==="")throw new Error("EndsWith: str cannot be null, empty or undefined");return n.substr(1)},StringIsNullOrEmpty:function(n){return n===undefined||n===null||n===""},IsUndefinedOrNull:function(n){return n===undefined||n===null},Any:function(n,t){if(a.Helpers.IsUndefinedOrNull(t))throw new Error("Helpers.Any: lambda cannot be undefined");return!a.Helpers.IsUndefinedOrNull(n)&&n.length>0&&t(n).length>0},IsFunc:function(n){return!a.Helpers.IsUndefinedOrNull(n)&&typeof n=="function"},IsArray:function(n){return Object.prototype.toString.call(n)==="[object Array]"},GetRandom:function(n){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)});return n?"id_"+t.replace("-",""):t},Clone:function(n){return JSON.parse(JSON.stringify(n))},EscapeRegExp:function(n){return n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},ReplaceAll:function(n,t,i){return n.replace(new RegExp(a.Helpers.EscapeRegExp(t),"g"),i)},FormatString:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],r=IsNullOrUndefined(r)?"":r.toString(),n=a.Helpers.ReplaceAll(n,"{"+i+"}",r);return n}},String.prototype.IsNullOrEmpty=function(){return a.Helpers.StringIsNullOrEmpty(this)},String.prototype.IsNullOrWhitespace=function(){return this.IsNullOrEmpty()||this.replace(/^\s+/,"").replace(/\s+$/,"")===""},Array.prototype.IsNullOrEmpty=function(){return a.Helpers.IsUndefinedOrNull(this)||this.length<1},Object.defineProperty(Object.prototype,"IsNullOrEmpty",{value:function(){return a.Helpers.IsUndefinedOrNull(this)},enumerable:!1}),IsNullOrUndefined=function(n){return a.Helpers.IsUndefinedOrNull(n)},!a.Helpers.StartsWith(jQuery.fn.jquery,"2."))throw new Error("Another currently uses jQuery v2.x as a dom helper");var n=function(n,t,r,u){t.Elements!==undefined&&t.Elements!==null&&t.Elements.length>0&&t.Elements.forEach(function(t){if(t.length>0)switch(t[0].tagName){case"INPUT":case"TEXTAREA":i(t,n,r,u);break;default:t.html(u)}});a.Helpers.IsFunc(t.Callback)&&t.Callback(u,n)},i=function(n,t,i,r){n.data("an_change")===undefined&&(n.data("an_change",!0),n.bind("keyup",function(){n.data("change_from_element",!0);t[i]=n.val()}));n.data("change_from_element")===!0?n.data("change_from_element",!1):n.val(r)},t=function(n,t){return n.filter(function(n){return n.PropName===t})};a.ObservableArray=function(){function i(){var n=Object.create(Array.prototype);return n=Array.apply(n,arguments)||n,i.injectClassMethods(n),n}return i.injectClassMethods=function(n){for(var t in i.prototype)i.prototype.hasOwnProperty(t)&&(n[t]=i.prototype[t]);return n},i.fromArray=function(n){return i.apply(null,n)},i.isArray=function(n){var t=Object.prototype.toString.call(n);return t.toLowerCase()==="[object array]"},i.prototype={add:function(n){if(i.isArray(n))for(var t=0;t<n.length;t++)Array.prototype.push.call(this,n[t]);else Array.prototype.push.call(this,n);return this},addAll:function(){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this},pushNoFire:function(n){return Array.prototype.push.call(this,n),this},push:function(n){return Array.prototype.push.call(this,n),i.prototype.checkRepeater.call(this,function(t){t.AddNewElement(n)}),this.fireChange(),this},pop:function(){return Array.prototype.pop.call(this),i.prototype.checkRepeater.call(this,function(n){n.RemoveLastElement()}),this.fireChange(),this},reverse:function(){return Array.prototype.reverse.call(this),i.prototype.checkRepeater.call(this,function(n){n.ReverseElements()}),this.fireChange(),this},slice:function(n,t){return Array.prototype.slice.call(this,n,t)},splice:function(n,t){var u=arguments,r,f;for(Array.prototype.splice.call(this,n,t),r=2,r;r<u.length;r++)f=u[r],Array.prototype.splice.call(this,n,0,f),n++;return i.prototype.checkRepeater.call(this,function(t){n===undefined?t.RemoveAllElements():t.SpliceElements(u)}),this.fireChange(),this},sort:function(){throw new Error("Type Another.ObservableArray cannot 'sort'");},shift:function(){var n=Array.prototype.shift.call(this);return i.prototype.checkRepeater.call(this,function(n){n.RemoveFirstElement()}),this.fireChange(),n},unshift:function(){var t=arguments,n=0,r;for(n;n<t.length;n++)r=t[n],Array.prototype.splice.call(this,0,0,r);return i.prototype.checkRepeater.call(this,function(n){n.AddElementsInFront(t)}),this.fireChange(),this},toString:function(){return"Another.ObservableArray"},setObservables:function(n,t,i,r){this.parentObj=n;this.childObjName=t;this.observables=i;this.fullName=r},fireChange:function(){var i=this,u=i,r=t(this.observables,this.fullName);r.length>0&&r.forEach(function(t){n(i.parentObj,t,i.childObjName,u)})},setRepeater:function(n){this.repeater=n},checkRepeater:function(n){!IsNullOrUndefined(this.repeater)&&a.Helpers.IsFunc(n)&&n(this.repeater)}},i}.call({});a.DomHelper=jQuery;a.RepeaterWrappers={};a.RepeaterWrapper=function(n,t){var i=this;if(this.opts=n,this.prsnt=t,this.el=t.Element(n.selector),this.prnt=this.el.parent(),this.prnt.length<=0&&(this.prnt=this.prsnt.DomHelper("<div />")),this.cloneText=this.el[0].outerHTML,this.el.remove(),this.data=n.data,this.data.toString()!=="Another.ObservableArray")throw new TypeError("RepeaterWrapper.data must be of type Another.ObservableArray");this.data.setRepeater(this);this.Element=function(){return i.el};this.CreateElement=function(){var n=i.prsnt.DomHelper(i.cloneText);return n.removeAttr("id"),n.children().each(function(n,t){var u=i.prsnt.DomHelper(t),r=u.attr("id");!IsNullOrUndefined(r)&&r.length>0&&u.attr("id",r+"_"+a.Helpers.GetRandom(!0))}),n};this.AddNewElement=function(n,t){if(t||this.firstBindingComplete===!0){var r=i.CreateElement();i.prnt.append(r);i.opts.onRowBinding(r,n);r.show()}};this.ReverseElements=function(){for(var t=i.prnt.children(),n=0;n<t.length;n++)i.prnt.prepend(t[n])};this.RemoveLastElement=function(){i.prnt.children().last().remove()};this.RemoveFirstElement=function(){i.prnt.children().first().remove()};this.RemoveAllElements=function(){i.prnt.children().remove()};this.AddElementsInFront=function(n){for(var f,t,e=i.prnt.children(),r=i.prsnt.DomHelper(e.get(0)),u=0;u<n.length;++u){f=n[u];t=i.CreateElement();i.opts.onRowBinding(t,f);t.show();r.length<1?i.prnt.append(t):u===0?r.before(t):r.after(t);r=t}};this.SpliceElements=function(n){var f=n[0],h=n[1],e=i.prnt.children(),c=f+(h-1),o,r,u,s,t;for(e.each(function(n,t){n>=f&&n<=c&&i.prsnt.DomHelper(t).addClass("tbm___")}),o=i.prnt.find(".tbm___"),o.remove(),r=i.prsnt.DomHelper(e.get(f-1)),u=2;u<n.length;++u){s=n[u];t=i.CreateElement();i.opts.onRowBinding(t,s);t.show();r.length<1?i.prnt.append(t):r.after(t);r=t}};this.data.forEach(function(n){i.AddNewElement(n,!0)});this.firstBindingComplete=!0};a.AnotherPresenter=function(i,r,u){function h(i,r,u){ts.RaiseEvent("OnModelChanged",{Model:ts.Model,NewVals:i});IsNullOrUndefined(u)&&(u="");i.forEach(function(i){var f=t(e,u+i.name);f.length>0&&f.forEach(function(t){var f=i.object[i.name],h;o(f)?(h=s(f,r,i.name,e,u+i.name),r[i.name]=h):n(r,t,i.name,f)})});ts.RaiseEvent("OnModelObserved",{Model:ts.Model,NewVals:i})}var ts=this,f,e;if(IsNullOrUndefined(u)||u.length<1)throw new Error("Presenter: container must be at least one element");f=a.GetDependency("DomHelper");this.DomHelper=f;this.Container=u;this.Element=function(n){var t=ts.Container.find(n);return t.length<1&&(t=f("<div />")),t};e=[];this.RunConditionals=function(){ts.PresenterConditionals.forEach(function(n){var t=[];a.Helpers.IsArray(n.selector)?n.selector.forEach(function(n){t.push(ts.Container.find(n))}):typeof n.selector=="string"&&t.push(ts.Container.find(n.selector));t.forEach(function(t){var i=n.boolCallback();n.foundCallback(t,i)})})};var o=function(n){return a.Helpers.IsArray(n)&&n.toString()!=="Another.ObservableArray"},s=function(n,t,i,r,u){if(IsNullOrUndefined(u)||u.IsNullOrEmpty())throw new Error("ConverToObservable final parameter is full graph name preceding the property name eg 'Level1.Leve2.'");var f=new a.ObservableArray;return f.setObservables(t,i,r,u),n.forEach(function(n){f.pushNoFire(n)}),f},c=function(n,t){var i,r;IsNullOrUndefined(t)&&(t="");for(i in n)r=n[i],o(r)&&(n[i]=s(n[i],n,i,e,t+i))};this.Model=r;this.Bind=function(n,t){return e.push({PropName:n,Callback:t,Elements:null}),ts};this.BindElement=function(n,t,i){var r;if(typeof t!="string")r=t;else{if(a.Helpers.IsUndefinedOrNull(n)||n.IsNullOrEmpty()||t.IsNullOrEmpty())throw"BindElement: propName and selector must be a string with value";r=ts.Element(t)}return e.push({PropName:n,Callback:i,Elements:[r]}),r};this.BindElements=function(n,t,i){if(a.Helpers.IsUndefinedOrNull(n)||n.IsNullOrEmpty()||t.IsNullOrEmpty())throw new Error("BindElements: propName and selectors must be a string with value");var r=[];return t.forEach(function(n){r.push(ts.Element(n))}),e.push({PropName:n,Callback:i,Elements:r}),r};this.BindElementStatic=function(n,t){if(a.Helpers.IsUndefinedOrNull(n)||n.IsNullOrEmpty()||t.IsNullOrEmpty())throw"BindElementStatic: val and selector must be a string with value";var i=ts.Element(t);return i.html(n),i.val(n),i};this.BindElementsStatic=function(n,t){if(a.Helpers.IsUndefinedOrNull(n)||n.IsNullOrEmpty()||t.IsNullOrEmpty())throw new Error("BindElementsStatic: val and selectors must be a string with value");var i=[];return t.forEach(function(t){var r=ts.Element(t);r.html(n);r.val(n);i.push(r)}),i};this.BindRepeater=function(n){if(typeof n.data=="string")return ts.Bind(n.data,function(t){n.data=t;(IsNullOrUndefined(n.guid)||n.guid.IsNullOrEmpty())&&(n.guid=a.Helpers.GetRandom(!0));ts.BindRepeater(n)}),ts.Element(n.selector);if(n.data.toString()!=="Another.ObservableArray")throw new Error("Presenter.BindRepeater = options.data must be an array");(IsNullOrUndefined(n.guid)||n.guid.IsNullOrEmpty())&&(n.guid=a.Helpers.GetRandom(!0));var t=a.RepeaterWrappers[n.guid];return IsNullOrUndefined(t)&&(t=new a.RepeaterWrapper(n,ts),a.RepeaterWrappers[n.guid]=t),t.Element()};this.BindRepeaterControl=function(n){var r,t,u,i,e;if(typeof n.data=="string")return ts.Bind(n.data,function(t){n.data=t;ts.BindRepeaterControl(n)}),r=ts.Element(n.selector),r.length<1&&(r=ts.DomHelper("<div />")),r;t=ts.Element(n.selector);t.length<=0&&(t=ts.DomHelper("<div />"));u=[];t.children().remove();switch(n.type){case"select":n.multi===!0&&t.attr("multiple","multiple")}return(i=a.Helpers.GetRandom(!0),n.data===undefined||n.data.length<=0)?t:(n.data.forEach(function(r){var e,o,h,c,s;switch(n.type){case"radio":o="<input type='radio' name='"+i+"' value='"+r[n.dataValueField]+"' />";h="<span>"+r[n.dataTextField]+"<\/span>";e=f(o);c=f(h);s="click";t.parent().children("label:first").attr("for",i);break;case"checkbox":o="<input type='checkbox' name='"+i+"' value='"+r[n.dataValueField]+"' />";h="<span>"+r[n.dataTextField]+"<\/span>";e=f(o);c=f(h);s="click";t.parent().children("label:first").attr("for",i);break;case"select":o="<option value='"+r[n.dataValueField]+"'>"+r[n.dataTextField]+"<\/option>";e=f(o);break;default:throw new Error("BindRepeaterControl: "+n.type+" not implemented");}n.type!=="select"&&(IsNullOrUndefined(s)||e.data(s+"_bound")===!0||(e.data(s+"_bound",!0),e.bind(s,function(){var r,i,f;if(t.data("change_from_element",!0),n.multi!==!0){switch(n.type){case"checkbox":r=e[0].checked;u.forEach(function(n){n[0].checked=!1});e[0].checked=r;ts.Model[n.model]=r?e.val():undefined;break;default:ts.Model[n.model]=e.val()}n.type==="checkbox"}else ts.Model[n.model]===undefined&&(ts.Model[n.model]=[]),i=[],ts.Model[n.model].forEach(function(n){i.push(n)}),i.indexOf(e.val())<0?(e[0].checked||e.attr("selected")==="selected")&&i.push(e.val()):e[0].checked&&e.attr("selected")==="selected"||(f=i.indexOf(e.val()),i.splice(f,1)),ts.Model[n.model]=i})));t.append(e);switch(n.type){case"radio":case"checkbox":t.append(c)}u.push(e)}),n.data!==undefined&&n.type==="select"&&(t.data("changed_bound")!==!0&&(t.data("changed_bound",!0),t.bind("change",function(){t.data("change_from_element",!0);var i=t.val();ts.Model[n.model]=IsNullOrUndefined(i)?[]:i})),t.data("change_from_element",!0),e=t.val(),ts.Model[n.model]=IsNullOrUndefined(e)?[]:e,t.trigger("change")),ts.Bind(n.model,function(){if(t.data("change_from_element")===!0?t.data("change_from_element",!1):u.forEach(function(t){var i=n.multi===!0?!IsNullOrUndefined(ts.Model[n.model])&&ts.Model[n.model].indexOf(t.val())>-1:ts.Model[n.model]==t.val();switch(n.type){case"radio":case"checkbox":t.checked=i;break;case"select":i===!0?t.attr("selected","selected"):t.removeAttr("selected")}}),!IsNullOrUndefined(n.onChange)&&a.Helpers.IsFunc(n.onChange))n.onChange(ts.Model[n.model])}),t)};this.SetObserve=function(){return c(ts.Model),Object.observe(ts.Model,function(n){ts.RunConditionals();h(n,ts.Model)}),ts};this.ObserveInnerObject=function(theName){var i;if(ts.InnerObservers[theName]===undefined){var outputString="Object.observe(",modelString="ts.Model",splt=theName.split("."),joinStr=splt.join(".")+".";for(i=0;i<splt.length;i++)modelString+="['"+splt[i]+"']";return outputString="checkAndChangeArrays("+modelString+",'"+joinStr+"'); "+outputString,outputString+=modelString+", function (newVals) {",outputString+="ts.RunConditionals(); doOnObserve(newVals, "+modelString+", '"+joinStr+"');",outputString+="});",eval(outputString),ts.InnerObservers[theName]=theName,ts}};this.InnerObservers={};this.PresenterConditionals=[];this.GetService=function(n){return a.GetService(n)};this.RaiseEvent=function(n,t){return a.RaiseEvent(n,t),ts};this.SubscribeToEvent=function(n,t){return a.SubscribeToEvent(n,t),ts};this.UpdateModel=function(propName,theVal){if(propName.indexOf(".")<0)ts.Model[propName]=theVal;else{var str="ts.Model";propName.split(".").forEach(function(n){str+="['"+n+"']"});str+=" = theVal;";eval(str)}}};a.AnotherApplication=function(n){var t=this;this.OnError=function(n){return window.onerror=function(t,i,r,u,f){return n(f)||!0},!0};this.Configurations=[];this.Configure=function(n){a.Helpers.IsFunc(n)&&t.Configurations.push(n)};this.Runs=[];this.Run=function(n){a.Helpers.IsFunc(n)&&this.Runs.push(n)};this.ApplicationName=n;this.CreatePresenter=function(n,i){if(a.PresenterCallbacks[n]!==undefined)throw"CreatePresenter: '"+n+"' already exists.";return a.PresenterCallbacks[n]=i,t};this.InitializePresenter=function(n,t,i,r){return a.InitializePresenter(n,t,i,r)};this.GetService=function(n){return a.GetService(n)};this.AddService=function(n,i,r,u){return a.AddService(n,i,r,u),t};this.RaiseEvent=function(n,t){a.RaiseEvent(n,t)};this.SubscribeToEvent=function(n,t){a.SubscribeToEvent(n,t)};this.AddDependency=function(n,i,r,u){return a.AddDependency(n,i,r,u),t};this.GetDependency=function(n){return a.GetDependency(n)};this.AddPresenterConditional=function(n,i){if(a.PresenterConditionals[n]!==undefined)throw new Error("PresenterConditional '"+n+"' already exists.");return a.PresenterConditionals[n]=i,a.AnotherPresenter.prototype[n]=function(t,i){var u=this,r=a.PresenterConditionals[n];if(IsNullOrUndefined(r))throw new Error("PresenterConditional '"+n+"' does not exist.");u.PresenterConditionals.push({name:n,selector:t,boolCallback:i,foundCallback:r})},t};this.AddPresenterPlugin=function(n,i){if(a.PresenterPlugins[n]!==undefined)throw new Error("PresenterPlugin '"+n+"' already exists.");return a.PresenterPlugins[n]=i,a.AnotherPresenter.prototype[n]=function(t,i){var f=this,r=a.PresenterPlugins[n],u;if(IsNullOrUndefined(r))throw new Error("PresenterPlugin '"+n+"' does not exist.");u=a.Helpers.IsArray(t)?t:[t];r(u,i,f)},t}};a.Applications=[];a.CreateApplication=function(n){var t=new a.AnotherApplication(n);return a.Applications.push(t),t};a.PresenterCallbacks={};a.InitializePresenter=function(name,container,arrayOfParams,callback){var pCallback,model,presenter,str,i,p;if(typeof arrayOfParams=="function"&&(callback=arrayOfParams,arrayOfParams=undefined),typeof container=="string"&&(container=a.DomHelper(container)),(IsNullOrUndefined(container)||container.length<1)&&(container=a.DomHelper("<div />")),a.RaiseEvent("OnBeginPresenterInitializing",name),pCallback=a.PresenterCallbacks[name],a.Helpers.IsUndefinedOrNull(pCallback))throw"Initialize Presenter: Cannot find presenter '"+name+"'";if(a.RaiseEvent("OnPresenterInitializing",pCallback),model={},presenter=new a.AnotherPresenter(name,model,container),presenter.SetObserve(),IsNullOrUndefined(arrayOfParams)||arrayOfParams.IsNullOrEmpty())pCallback(presenter);else{for(str="pCallback(presenter,",i=0;i<arrayOfParams.length;i++)p=arrayOfParams[i],str+="'"+p+"'",i!==arrayOfParams.length-1&&(str+=",");str+=");";eval(str)}return presenter.RunConditionals(),a.RaiseEvent("OnPresenterInitialized",presenter),a.Helpers.IsFunc(callback)&&callback(presenter),presenter};a.Events={};a.SubscribeToEvent=function(n,t){var i=a.CreateEvent(n);i.Subscribers.push(t)};a.RaiseEvent=function(n,t){var i=a.CreateEvent(n);t.Event={Timestamp:new Date,Name:n};i.Subscribers.forEach(function(n){n(t)})};a.CreateEvent=function(n){return a.Helpers.IsUndefinedOrNull(a.Events[n])&&(a.Events[n]={Subscribers:[]}),a.Events[n]};a.Services={};a.StaticServices={};a.AddService=function(n,t,i,r){if(IsNullOrUndefined(i)&&(r=i,i=undefined),IsNullOrUndefined(n)||IsNullOrUndefined(r)||IsNullOrUndefined(t)||t.IsNullOrEmpty()||n.IsNullOrEmpty()||!a.Helpers.IsFunc(r))throw"AddService: name, type and svc must be strings and a function respectively";if(a.Services[n]!==undefined)throw"AddService: service '"+n+"' already exists";a.Services[n]={Name:n,Dependencies:i,Service:r,Type:t}};a.GetService=function(svcName){var svc=a.Services[svcName],output,i;if(a.Helpers.IsUndefinedOrNull(svc))throw"Cannot find service '"+svcName+"'";if(svc.Type==="Static"&&a.StaticServices[svcName]!==undefined)return a.StaticServices[svcName];if(svc.Dependencies===undefined)return svc.Type==="Static"?(output=new svc.Service,a.StaticServices[output.Name]=output,output):new svc.Service;var depsString="",outputString="theService = new svc.Service(",theService=undefined;for(i=0;i<svc.Dependencies.length;i++)depsString+="var d"+i+" = a.GetDependency('"+svc.Dependencies[i]+"'); ",outputString+="d"+i,i<svc.Dependencies.length-1&&(outputString+=",");return outputString+=");",eval(depsString+outputString),theService!==undefined&&svc.Type==="Static"&&(a.StaticDependencies[svc.Name]=theService),theService};a.Dependencies={};a.StaticDependencies={};a.MockDependency=function(n,t,i){a.Dependencies[n]=undefined;a.AddDependency(n,t,[],i)};a.AddDependency=function(n,t,i,r){if(IsNullOrUndefined(r)&&(r=i,i=[]),IsNullOrUndefined(n)||IsNullOrUndefined(t)||n.IsNullOrEmpty()||t.IsNullOrEmpty()||!a.Helpers.IsFunc(r))throw"AddDependency: name and type must be a string and dep must be a function";if(a.Dependencies[n]!==undefined)throw"AddDependency: dependency '"+n+"' already exists";a.Dependencies[n]={Name:n,Dependency:r,Dependencies:i,Type:t}};a.GetDependency=function(dep){var output=a.Dependencies[dep],i,depend;if(IsNullOrUndefined(output))throw"GetDependency: '' is not a dependency";if(output.Type==="Static"&&a.StaticDependencies[name]!==undefined)return a.StaticDependencies[name];if(output.Dependencies!==undefined){var depsString="",outputString="theDep = new output.Dependency(",theDep=undefined;for(i=0;i<output.Dependencies.length;i++)depsString+="var d"+i+" = a.GetDependency('"+output.Dependencies[i]+"'); ",outputString+="d"+i,i<output.Dependencies.length-1&&(outputString+=",");return outputString+=");",eval(depsString+outputString),theDep!==undefined&&output.Type==="Static"&&(a.StaticDependencies[output.Name]=theDep),theDep}return output.Type==="Static"?(depend=new output.Dependency,a.StaticDependencies[output.Name]=depend,depend):new output.Dependency};a.PresenterConditionals={};a.PresenterPlugins={};a.Initialize=function(n){a.DomHelper(window).load(function(){a.Applications.forEach(function(n){n.Configurations.forEach(function(t){a.Helpers.IsFunc(t)&&t(n)})});a.Applications.forEach(function(n){n.Runs.forEach(function(t){a.Helpers.IsFunc(t)&&t(n)})});a.Helpers.IsFunc(n)&&n()})};a.DependenciesApplication=a.CreateApplication("Another.Dependencies"),function(n){n.AddDependency("Http","Static",[],function(){this.Get=a.DomHelper.get;this.Post=function(n,t){return a.DomHelper.post(n,JSON.stringify(t))};this.Ajax=a.DomHelper.ajax;this.Put=function(n,t){return a.DomHelper.ajax({url:n,data:JSON.stringify(t),type:"PUT"})};this.Delete=function(n,t){return a.DomHelper.ajax({url:n,data:JSON.stringify(t),type:"DELETE"})};this.Patch=function(n,t){return a.DomHelper.ajax({url:n,data:JSON.stringify(t),type:"PATCH"})}});n.AddDependency("DomHelper","Static",[],function(){return a.DomHelper})}(a.DependenciesApplication);a.PresenterConditionalsApp=a.CreateApplication("Another.PresenterConditionalsApp"),function(n){n.AddPresenterConditional("ShowWhen",function(n,t){t?n.show():n.hide()});n.AddPresenterConditional("EnableWhen",function(n,t){t?n.removeAttr("disabled"):n.attr("disabled","disabled")})}(a.PresenterConditionalsApp);a.PresenterPluginsApp=a.CreateApplication("Another.PresenterPluginsApp"),function(n){n.AddPresenterPlugin("Click",function(n,t,i){t.Elements=[];n.forEach(function(n){var r=i.DomHelper(this);r.length<=0&&(r=i.DomHelper("<a />"));t.Elements.push(r);i.Container.on("click",n,function(n){n.preventDefault();t.onClick(n,r)})})});n.AddPresenterPlugin("Submit",function(n,t,i){t.Elements=[];n.forEach(function(n){var r=i.Container.find(n);r.length<=0&&(r=i.DomHelper("<form />"));r.IsDirty=function(){return r.data("isDirty")===!0};t.Elements.push(r);r.each(function(n,t){var u=i.DomHelper(t);u.change(function(){r.data("isDirty",!0)})});i.Container.on("submit",n,function(n){n.preventDefault();t.onSubmit(n,r);return!1})})})}(a.PresenterPluginsApp)})(Another);
/*!
 * Object.observe polyfill
 * by Massimo Artizzu (MaxArt2501)
 * 
 * https://github.com/MaxArt2501/object-observe
 * 
 * Licensed under the MIT License
 * See LICENSE for details
 */
Object.observe||function(n,t,i){var u,o,p=["add","update","delete","reconfigure","setPrototype","preventExtensions"],w=i.Node?function(n){return n&&n instanceof i.Node}:function(n){return n&&typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"},b=t.isArray||function(n){return function(t){return n.call(t)==="[object Array]"}}(n.prototype.toString),g=n.defineProperties?function(t,i){var r=n.getOwnPropertyDescriptor(t,i);return r?"get"in r||"set"in r:!1}:function(){return!1},f=t.prototype.indexOf?function(n,t,i){return t.indexOf(n,i)}:function(n,t,i){for(var r=i||0;r<t.length;r++)if(t[r]===n)return r;return-1},s=typeof i.Map=="undefined"||!Map.prototype.forEach?function(){var n=[],t=[];return{size:0,has:function(t){return f(t,n)>-1},get:function(i){return t[f(i,n)]},set:function(i,r){var u=f(i,n);u===-1?(n.push(i),t.push(r),this.size++):t[u]=r},"delete":function(i){var r=f(i,n);r>-1&&(n.splice(r,1),t.splice(r,1),this.size--)},forEach:function(i){for(var r=0;r<n.length;r++)i.call(arguments[1],t[r],n[r],this)}}}:function(){return new Map},l=n.keys||function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t},h=n.getPrototypeOf||null,e=n.defineProperties?n.getOwnPropertyDescriptor:null,nt=n.is||function(n,t){return n===t?n!==0||1/n==1/t:n!==n&&t!==t},k=function(t,i,r){var f=u.get(t);f?f.handlers.set(i,y(i,t,r)):(u.set(t,f={handlers:s(),frozen:n.isFrozen?n.isFrozen(t):!1,extensible:n.isExtensible?n.isExtensible(t):!0,proto:h&&h(t),properties:w(t)?[]:l(t)}),f.handlers.set(i,y(i,t,r)),v(t,f),d(t,f),setTimeout(function e(){u.has(t)&&(c(t,f),a(f),setTimeout(e,17))},17))},d=function(n,t){var r=t.properties,u=t.values=[],i=0,f;if(e)for(f=t.descriptors=[];i<r.length;)f[i]=e(n,r[i]),u[i]=n[r[i++]];else while(i<r.length)u[i]=n[r[i++]]},c=function(){var t=e?function(n,t,i,u,f){var h=t.properties[i],o=n[h],e=t.values[i],s=t.descriptors[i];"value"in f&&(e===o?e===0&&1/e!=1/o:e===e||o===o)&&(r(t,{name:h,type:"update",object:n,oldValue:e},u),t.values[i]=o);s.configurable&&(!f.configurable||f.writable!==s.writable||f.enumerable!==s.enumerable||f.get!==s.get||f.set!==s.set)&&(r(t,{name:h,type:"reconfigure",object:n,oldValue:e},u),t.descriptors[i]=f)}:function(n,t,i,u){var o=t.properties[i],e=n[o],f=t.values[i];(f===e?f===0&&1/f!=1/e:f===f||e===e)&&(r(t,{name:o,type:"update",object:n,oldValue:f},u),t.values[i]=e)},i=e?function(n,i,u,f,o){for(var s=i.length,h;u&&s--;)i[s]!==null&&(h=e(n,i[s]),u--,h?t(n,f,s,o,h):(r(f,{name:i[s],type:"delete",object:n,oldValue:f.values[s]},o),f.properties.splice(s,1),f.values.splice(s,1),f.descriptors.splice(s,1)))}:function(n,t,i,u,f){for(var e=t.length;i&&e--;)t[e]!==null&&(r(u,{name:t[e],type:"delete",object:n,oldValue:u.values[e]},f),u.properties.splice(e,1),u.values.splice(e,1),i--)};return function(u,o,s){if(o.handlers.size&&!o.frozen){var a,p,w,d=o.values,g=o.descriptors,v=0,y,c,nt,b,k;if(o.extensible)if(a=o.properties.slice(),p=a.length,w=l(u),g){while(v<w.length)c=w[v++],y=f(c,a),k=e(u,c),y===-1?(r(o,{name:c,type:"add",object:u},s),o.properties.push(c),d.push(u[c]),g.push(k)):(a[y]=null,p--,t(u,o,y,s,k));i(u,a,p,o,s);n.isExtensible(u)||(o.extensible=!1,r(o,{type:"preventExtensions",object:u},s),o.frozen=n.isFrozen(u))}else{while(v<w.length)c=w[v++],y=f(c,a),nt=u[c],y===-1?(r(o,{name:c,type:"add",object:u},s),o.properties.push(c),d.push(nt)):(a[y]=null,p--,t(u,o,y,s));i(u,a,p,o,s)}else if(!o.frozen){for(;v<a.length;v++)c=a[v],t(u,o,v,s,e(u,c));n.isFrozen(u)&&(o.frozen=!0)}h&&(b=h(u),b!==o.proto&&(r(o,{type:"setPrototype",name:"__proto__",oldValue:o.proto}),o.proto=b))}}}(),a=function(n){n.handlers.forEach(function(n,t){n.changeRecords.length&&(t(n.changeRecords),n.changeRecords=[])})},v=function(n,t){t||(t=u.get(n));var i=t&&t.notifier;return i?i:(i={notify:function(t){var f,e,i;if(t.type,f=u.get(n),f){e={object:n};for(i in t)i!=="object"&&(e[i]=t[i]);r(f,e)}},performChange:function(t,i){if(typeof t!="string")throw new TypeError("Invalid non-string changeType");if(typeof i!="function")throw new TypeError("Cannot perform non-function");var e=u.get(n),f,s,o=i.call(arguments[2]);if(e&&c(n,e,t),e&&o&&typeof o=="object"){s={object:n,type:t};for(f in o)f!=="object"&&f!=="type"&&(s[f]=o[f]);r(e,s)}}},t&&(t.notifier=i),i)},y=function(n,t,i){var r=o.get(n),u;return r?(u=r.get(t),u?u.acceptList=i:r.set(t,u={acceptList:i,changeRecords:[]})):(r=s(),r.set(t,u={acceptList:i,changeRecords:[]}),o.set(n,r)),u},r=function(n,t,i){n.handlers.forEach(function(n){(i==null||f(i,n.acceptList)===-1)&&f(t.type,n.acceptList)>-1&&n.changeRecords.push(t)})};u=s();o=s();n.observe=function(t,i,r){if(t===null||typeof t!="object")throw new TypeError("Object.observe cannot observe non-object");if(typeof i!="function")throw new TypeError("Object.observe cannot deliver to non-function");if(n.isFrozen&&n.isFrozen(i))throw new TypeError("Object.observe cannot deliver to a frozen function object");return b(r)||(r=p),k(t,i,r),t};n.unobserve=function(n,t){if(n===null||typeof n!="object")throw new TypeError("Object.unobserve cannot unobserve non-object");if(typeof t!="function")throw new TypeError("Object.unobserve cannot deliver to non-function");var i=u.get(n),r;return i&&i.handlers.has(t)&&(c(n,i),a(i),r=o.get(t),r.size===1&&r.get(n)?o["delete"](t):r["delete"](n),i.handlers.size===1?u["delete"](n):i.handlers["delete"](t)),n};n.getNotifier=function(t){if(t===null||typeof t!="object")throw new TypeError("Object.getNotifier cannot getNotifier non-object");return n.isFrozen&&n.isFrozen(t)?null:v(t)};n.deliverChangeRecords=function(n){if(typeof n!="function")throw new TypeError("Object.deliverChangeRecords cannot deliver to non-function");var t=o.get(n);t&&t.forEach(function(t,i){c(i,u.get(i));t.changeRecords.length&&(n(t.changeRecords),t.changeRecords=[])})}}(Object,Array,this);
//# sourceMappingURL=Another.min.js.map
